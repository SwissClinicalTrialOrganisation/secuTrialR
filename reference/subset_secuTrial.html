<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Subsets a secuTrialdata object — subset_secuTrial • secuTrialR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Subsets a secuTrialdata object — subset_secuTrial"><meta property="og:description" content="Given a secuTrialdata object, and subsetting parameters,
this function filters the data object to include only the desired study participants.
Subsetting is possible based on participants and based on centres. In order to subset
based on participants, participant IDs (mnpaid) musst be present in the export.
In order to subset based on centres, centre information must be included in the export."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">secuTrialR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.12</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/secuTrialR-package-vignette.html">secuTrialR - a walkthrough</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/SwissClinicalTrialOrganisation/secuTrialR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Subsets a <code>secuTrialdata</code> object</h1>
    <small class="dont-index">Source: <a href="https://github.com/SwissClinicalTrialOrganisation/secuTrialR/blob/HEAD/R/subset.R" class="external-link"><code>R/subset.R</code></a></small>
    <div class="hidden name"><code>subset_secuTrial.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Given a <code>secuTrialdata</code> object, and subsetting parameters,
this function filters the data object to include only the desired study participants.
Subsetting is possible based on participants and based on centres. In order to subset
based on participants, participant IDs (mnpaid) musst be present in the export.
In order to subset based on centres, centre information must be included in the export.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">subset_secuTrial</span><span class="op">(</span><span class="va">dat</span>, participant <span class="op">=</span> <span class="cn">NULL</span>, centre <span class="op">=</span> <span class="cn">NULL</span>, exclude <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>dat</dt>
<dd><p><code>secuTrialdata</code> object containing participant IDs and centre information</p></dd>
<dt>participant</dt>
<dd><p>character vector with a selection of participant IDs (mnpaid) used for subsetting</p></dd>
<dt>centre</dt>
<dd><p>character vector with a selection of centre names (mnpctrname) used for subsetting</p></dd>
<dt>exclude</dt>
<dd><p>boolean which if true excludes participants and centres from dat</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p><code>secuTrialdata</code> object containing only those participants that meet the selection criteria.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Subsetting based on participants only, centers only, or based on both is possible. The value of parameter exclude
determines whether the output will include participants that meet selection criteria (when exclude = FALSE),
or exclude them (when exclude = TRUE). When selecting based on both participants and centres,
exclude = FALSE will include the intersection of participants meeting the selection criteria.
If exclude = TRUE, a complement of union of participant and centre sets is returned.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="va">path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"sT_exports"</span>, <span class="st">"exp_opt"</span>,</span>
<span class="r-in">                    <span class="st">"s_export_CSV-xls_CTU05_all_info.zip"</span>,</span>
<span class="r-in">                    package <span class="op">=</span> <span class="st">"secuTrialR"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">sT</span> <span class="op">&lt;-</span> <span class="fu"><a href="read_secuTrial.html">read_secuTrial</a></span><span class="op">(</span><span class="va">path</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Read export successfully.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following export options deviate from the suggested specifications:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Data from hidden fields is part of the export.</span>
<span class="r-in"><span class="va">participants</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RPACK-INS-011"</span>, <span class="st">"RPACK-INS-014"</span>, <span class="st">"RPACK-INS-015"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">centres</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Inselspital Bern (RPACK)"</span>, <span class="st">"Universitätsspital Basel (RPACK)"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># show all participants</span></span>
<span class="r-in"><span class="fu"><a href="get_participants.html">get_participants</a></span><span class="op">(</span><span class="va">sT</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    mnppid        mnpaid mnpctrid                       mnpctrname</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    1204 RPACK-CBE-001      462           Charité Berlin (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    1205 RPACK-CBE-002      462           Charité Berlin (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    1206 RPACK-CBE-003      462           Charité Berlin (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    1207 RPACK-CBE-004      462           Charité Berlin (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    1208 RPACK-CBE-005      462           Charité Berlin (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6    1209 RPACK-INS-011      461         Inselspital Bern (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7    1210 RPACK-INS-012      461         Inselspital Bern (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8    1211 RPACK-INS-013      461         Inselspital Bern (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9    1212 RPACK-INS-014      461         Inselspital Bern (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10   1213 RPACK-INS-015      461         Inselspital Bern (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11   1214 RPACK-USB-123      441 Universitätsspital Basel (RPACK)</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># subset sT_export</span></span>
<span class="r-in"><span class="va">sT_subset1</span> <span class="op">&lt;-</span> <span class="fu">subset_secuTrial</span><span class="op">(</span>dat <span class="op">=</span> <span class="va">sT</span>, participant <span class="op">=</span> <span class="va">participants</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> If you changed any labels in the secuTrialdata object manually these will be reset to their original state.</span>
<span class="r-in"><span class="fu"><a href="get_participants.html">get_participants</a></span><span class="op">(</span><span class="va">sT_subset1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   mnppid        mnpaid mnpctrid               mnpctrname</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   1209 RPACK-INS-011      461 Inselspital Bern (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   1212 RPACK-INS-014      461 Inselspital Bern (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   1213 RPACK-INS-015      461 Inselspital Bern (RPACK)</span>
<span class="r-in"><span class="va">sT_subset2</span> <span class="op">&lt;-</span> <span class="fu">subset_secuTrial</span><span class="op">(</span>dat <span class="op">=</span> <span class="va">sT</span>, participant <span class="op">=</span> <span class="va">participants</span>, exclude <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> If you changed any labels in the secuTrialdata object manually these will be reset to their original state.</span>
<span class="r-in"><span class="fu"><a href="get_participants.html">get_participants</a></span><span class="op">(</span><span class="va">sT_subset2</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   mnppid        mnpaid mnpctrid                       mnpctrname</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   1204 RPACK-CBE-001      462           Charité Berlin (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   1205 RPACK-CBE-002      462           Charité Berlin (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   1206 RPACK-CBE-003      462           Charité Berlin (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   1207 RPACK-CBE-004      462           Charité Berlin (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   1208 RPACK-CBE-005      462           Charité Berlin (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   1210 RPACK-INS-012      461         Inselspital Bern (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   1211 RPACK-INS-013      461         Inselspital Bern (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   1214 RPACK-USB-123      441 Universitätsspital Basel (RPACK)</span>
<span class="r-in"><span class="va">sT_subset3</span> <span class="op">&lt;-</span> <span class="fu">subset_secuTrial</span><span class="op">(</span>dat <span class="op">=</span> <span class="va">sT</span>, centre <span class="op">=</span> <span class="va">centres</span>, exclude <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> If you changed any labels in the secuTrialdata object manually these will be reset to their original state.</span>
<span class="r-in"><span class="fu"><a href="get_participants.html">get_participants</a></span><span class="op">(</span><span class="va">sT_subset3</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   mnppid        mnpaid mnpctrid             mnpctrname</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   1204 RPACK-CBE-001      462 Charité Berlin (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   1205 RPACK-CBE-002      462 Charité Berlin (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   1206 RPACK-CBE-003      462 Charité Berlin (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   1207 RPACK-CBE-004      462 Charité Berlin (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   1208 RPACK-CBE-005      462 Charité Berlin (RPACK)</span>
<span class="r-in"><span class="va">sT_subset4</span> <span class="op">&lt;-</span> <span class="fu">subset_secuTrial</span><span class="op">(</span>dat <span class="op">=</span> <span class="va">sT</span>, participant <span class="op">=</span> <span class="va">participants</span>,</span>
<span class="r-in">                               centre <span class="op">=</span> <span class="va">centres</span>, exclude <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> If you changed any labels in the secuTrialdata object manually these will be reset to their original state.</span>
<span class="r-in"><span class="fu"><a href="get_participants.html">get_participants</a></span><span class="op">(</span><span class="va">sT_subset4</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   mnppid        mnpaid mnpctrid               mnpctrname</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   1209 RPACK-INS-011      461 Inselspital Bern (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   1212 RPACK-INS-014      461 Inselspital Bern (RPACK)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   1213 RPACK-INS-015      461 Inselspital Bern (RPACK)</span>
<span class="r-in"><span class="va">sT_subset5</span> <span class="op">&lt;-</span> <span class="fu">subset_secuTrial</span><span class="op">(</span>dat <span class="op">=</span> <span class="va">sT</span>, participant <span class="op">=</span> <span class="va">participants</span>,</span>
<span class="r-in">                               centre <span class="op">=</span> <span class="va">centres</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, exclude <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> If you changed any labels in the secuTrialdata object manually these will be reset to their original state.</span>
<span class="r-in"><span class="fu"><a href="get_participants.html">get_participants</a></span><span class="op">(</span><span class="va">sT_subset5</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] mnppid     mnpaid     mnpctrid   mnpctrname</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;0 rows&gt; (or 0-length row.names)</span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Alan G. Haynes, Patrick R. Wright, Milica Markovic.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

